<script>
    // --- 1. 記憶するルール（データの準備） ---
    let score = 0;
    let clickPower = 1;
    let upgradeCost = 10;
    let autoPower = 0;       // 【追加】1秒間に自動で増える量
    let autoCost = 50;       // 【追加】自動収穫機の値段

    const scoreDisplay = document.getElementById('counter');
    const powerDisplay = document.getElementById('power');
    const upgradeBtn = document.getElementById('upgrade-btn');

    // --- 2. 動きのルール（クリック反応） ---
    document.getElementById('click-btn').addEventListener('click', () => {
        score += clickPower;
        scoreDisplay.textContent = score + " 粒";
    });

    // --- 3. 自動で増やすルール（ここが心臓部！） ---
    // 1000ミリ秒（＝1秒）ごとに、中のプログラムを実行せよ！という命令
    setInterval(() => {
        score += autoPower; // 1秒ごとに自動パワー分を足す
        scoreDisplay.textContent = score + " 粒";
    }, 1000);

    // --- 4. 買い物をするルール ---
    // ここを改造すれば、値段を2倍にしたり、もっと強力な道具を作ったりできます！
    upgradeBtn.addEventListener('click', () => {
        if (score >= upgradeCost) {
            score -= upgradeCost;
            clickPower++;
            upgradeCost = Math.floor(upgradeCost * 1.5); // 1.5倍ずつ高くする計算
            // 表示を更新する
            scoreDisplay.textContent = score + " 粒";
            powerDisplay.textContent = clickPower;
            upgradeBtn.textContent = `農機具を買う (コスト: ${upgradeCost})`;
        }
    });
</script>